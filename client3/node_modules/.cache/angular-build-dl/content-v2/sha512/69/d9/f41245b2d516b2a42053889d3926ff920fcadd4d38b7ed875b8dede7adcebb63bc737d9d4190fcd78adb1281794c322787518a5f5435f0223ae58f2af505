{"version":3,"sources":["webpack:///src/app/pages/aut/userroluri/userroluri.page.ts","webpack:///src/app/pages/aut/userroluri/userroluri.page.html","webpack:///src/app/pages/aut/userroluri/userroluri.page.scss","webpack:///src/app/pages/aut/userroluri/userroluri-routing.module.ts","webpack:///src/app/pages/aut/userroluri/userroluri.module.ts"],"names":["UserRoluriPage","storage","store","menuController","self","this","getLocalStorageData","then","data","data2","get","loginResponse","userroluri","autUser","roles","userroluri$","of","console","log","Promise","resolve","value","frmUserRoluri","valid","userrolid","dispatch","toggle","selector","template","routes","path","component","UserRoluriPageRoutingModule","imports","exports","UserRoluriPageModule","declarations"],"mappings":"+hBAeaA,EAAc,WAOzB,WAAoBC,EAA0BC,EAAsBC,wBAAhD,KAAAF,UAA0B,KAAAC,QAAsB,KAAAC,iBAgBnE,IAAIC,EAAOC,KAEVA,KAAKC,sBAEIC,KAAWC,YAAI,OAAJA,EAAO,sBAAPA,wBAAO,kGACbC,OADa,SACCL,EAAKH,QAAQS,IAAI,iBADlB,OACbD,EADa,iBAED,MAATA,EAFU,gBAGfA,OAHe,SAGDL,EAAKH,QAAQS,IAAI,iBAHhB,OAGfD,EAHe,oCAKjBL,EAAKO,cAAgBF,EACrBL,EAAKQ,WAAaR,EAAKO,cAAcE,QAAQC,MAC7CV,EAAKW,eAAcC,MAAGZ,EAAKQ,YAC3BK,QAAQC,IAAIT,GARK,4CAF3BJ,MAaqBG,YAAI,OAAJA,EAAO,sBAAPA,wBAAO,kGACdC,OADc,SACAL,EAAKH,QAAQS,IAAI,iBADjB,OACdD,EADc,iBAEF,MAATA,EAFW,gBAGhBA,OAHgB,SAGFL,EAAKH,QAAQS,IAAI,iBAHf,OAGhBD,EAHgB,oCAKlBL,EAAKO,cAAgBF,EACrBL,EAAKQ,WAAaR,EAAKO,cAAcE,QAAQC,MAC7CV,EAAKW,eAAcC,MAAGZ,EAAKQ,YAC3BK,QAAQC,IAAIT,GARM,4C,UAtCL,O,EAAA,G,EAAA,kCAoDzB,WACE,IAAIL,EAAMC,KACV,OAAO,IAAIc,QAAQC,YACjBhB,EAAKH,QAAQS,IAAI,OACdH,KAAMc,YAKDJ,QAAQC,IAAIG,GACZD,EAAQC,SA9DK,kBAoEzB,WACMhB,KAAKiB,cAAcC,OACrBN,QAAQC,IAAIb,KAAKiB,cAAcD,SAtEV,yBA0EzB,SAAYG,GACRP,QAAQC,IAAI,kBAAoBM,GAEhCnB,KAAKH,MAAMuB,SAAS,IAAI,oBAA2BD,EAAWnB,KAAKM,kBA7E9C,sBAgFzB,WACEN,KAAKiB,cAAgB,IAAI,KAAY,GAAI,CAAC,cAAqB,aAC/DL,QAAQC,IAAIb,KAAKO,cAlFM,+BAqFzB,WACEK,QAAQC,IAAI,qBAIZb,KAAKF,eAAeuB,OAAO,WAAWnB,KAAK,mB,2BA1FpB,K,yCAZlB,K,MACA,M,MAFY,QAaRP,KAAc,UAL1B,OAAU,CACT2B,SAAU,gBACVC,SCZF,o8D,QCAA,OFea5B,G,eGXP6B,EAAiB,CACrB,CACEC,KAAM,GACNC,UAAW/B,IAQFgC,EAA2B,wBAA3BA,KAA2B,UAJvC,OAAS,CACRC,QAAS,CAAC,cAAsBJ,IAChCK,QAAS,CAAC,SAECF,G,ICFAG,EAAoB,wBAApBA,KAAoB,UAJhC,OAAS,CACRF,QAAS,CAAC,KAAc,KAAa,KAAaD,EAA6B,KAC/EI,aAAc,CAACpC,MAEJmC,O","file":"x","sourcesContent":["import { Component, OnInit } from '@angular/core';\nimport { FormControl, Validators } from '@angular/forms';\nimport { IonContent, MenuController } from '@ionic/angular';\nimport { Storage } from '@ionic/storage';\nimport { Store } from '@ngxs/store';\nimport { Observable, of } from 'rxjs';\nimport { RolGrupActiuniAction } from '../../../core/aut/rol_grupactiuni/rol_grupactiuni.actions';\nimport { AuthAction } from '../../../core/auth-guard/auth-guard.actions';\n\n\n@Component({\n  selector: 'app-userroles',\n  templateUrl: './userroluri.page.html',\n  styleUrls: ['./userroluri.page.scss'],\n})\nexport class UserRoluriPage implements OnInit {\n  frmUserRoluri: FormControl;\n  userroluri: any ;\n  userroluri$: Observable<any> ;\n  loginResponse: any;\n\n\n  constructor(private storage: Storage, private store: Store, private menuController: MenuController) \n  {\n    //this.userroluri = null;\n    /*\n    var self = this;\n    async () => {\n      var data2 = await self.storage.get(\"loginresponse\");\n      while (data2 == null) \n        data2 = await self.storage.get(\"loginresponse\");\n      //---\n      self.loginResponse = data2;\n      self.userroluri = self.loginResponse.autUser.roles;\n      self.userroluri$ = of(self.userroluri);\n      console.log(data2);\n    }\n    */\n   var self = this;\n    \n    this.getLocalStorageData()\n       \n            .then(async data =>{\n              var data2 = await self.storage.get(\"loginresponse\");\n              while (data2 == null) \n                data2 = await self.storage.get(\"loginresponse\");\n              //---\n              self.loginResponse = data2;\n              self.userroluri = self.loginResponse.autUser.roles;\n              self.userroluri$ = of(self.userroluri);\n              console.log(data2);\n        \n            })\n            .catch(async data =>{\n              var data2 = await self.storage.get(\"loginresponse\");\n              while (data2 == null) \n                data2 = await self.storage.get(\"loginresponse\");\n              //---\n              self.loginResponse = data2;\n              self.userroluri = self.loginResponse.autUser.roles;\n              self.userroluri$ = of(self.userroluri);\n              console.log(data2);\n        \n            })\n          \n  }\n\n  getLocalStorageData(){\n    var self =this;\n    return new Promise(resolve => {\n      self.storage.get(\"xxx\")\n        .then( value => \n            { \n              //self.loginResponse = value;\n              //self.userroluri = self.loginResponse.autUser.roles;\n              //self.userroluri$ = of(self.userroluri);\n              console.log(value);\n              resolve(value);\n            });\n            \n         });\n    }\n\n  done() {\n    if (this.frmUserRoluri.valid) {\n      console.log(this.frmUserRoluri.value);\n    }\n  }\n\n  selectieRol(userrolid : number) {\n      console.log(\"selectie rol : \" + userrolid);\n      //this.store.dispatch(new RolGrupActiuniAction.Rolgrupactiuni(userrolid, this.loginResponse));\n      this.store.dispatch(new AuthAction.Rolgrupactiunii(userrolid, this.loginResponse));\n  }\n\n  ngOnInit(){\n    this.frmUserRoluri = new FormControl('', [Validators.required, Validators.email]);\n    console.log(this.userroluri);\n  }\n\n  toggleProfileMenu() {\n    console.log('toggleProfileMenu');\n    //this.menuController.toggle('profile');\n    \n    var self = this;\n    this.menuController.toggle(\"profile\").then(() => {\n      //this.menuController.open();\n    });\n  }\n\n}\n\n","export default \"<ion-header>\\n  <ion-toolbar color=\\\"dark\\\">\\n    <ion-buttons slot=\\\"secondary\\\">\\n      <ion-button>\\n        <ion-icon slot=\\\"icon-only\\\" name=\\\"person-circle\\\"></ion-icon>\\n      </ion-button>\\n      <!-- \\n      <ion-button>\\n        <ion-icon slot=\\\"icon-only\\\" name=\\\"search\\\"></ion-icon>\\n      </ion-button>\\n      -->\\n    </ion-buttons>\\n    <ion-buttons slot=\\\"primary\\\">\\n      <ion-menu-button menuId=\\\"mainmenu\\\"></ion-menu-button>\\n      <!-- \\n      <ion-button color=\\\"danger\\\">\\n        <ion-icon slot=\\\"icon-only\\\" ios=\\\"ellipsis-horizontal\\\" md=\\\"ellipsis-vertical\\\"></ion-icon>\\n      </ion-button>\\n    -->\\n    </ion-buttons>\\n    <ion-title>Bine Ai Venit ! &nbsp; &nbsp; &nbsp; </ion-title>\\n  </ion-toolbar>  \\n</ion-header>\\n\\n<ion-content [fullscreen]=\\\"true\\\">\\n  <!-- List of Text Items -->\\n\\n      <ng-container *ngIf=\\\"userroluri$\\\">\\n        <h3>Funcțiile dumneavoastră în Partid</h3>\\n        <ion-list>\\n          <ion-item button=\\\"true\\\" detail *ngFor='let userrol of userroluri' (click)=\\\"selectieRol(userrol.autUserrolId)\\\">\\n            <ion-label>\\n              <h2>{{userrol.rol.autRolDisplayNume}}</h2>\\n              <p>{{userrol.rol.autRolDisplaydescriere}}</p>\\n            </ion-label>\\n          </ion-item>\\n\\n          <!--\\n          <ion-item detail *ngFor='let rol of roles' (click)=\\\"selectieRol(rol.autUserrolId)\\\">\\n            <ion-label>\\n              <h2>{{rol.rol.autRolDisplayNume}}</h2>\\n              <p>{{rol.rol.autRolDisplaydescriere}}</p>\\n            </ion-label>\\n          </ion-item>\\n          \\n          \\n          <button width=\\\"100%\\\" ion-item *ngFor='let userrol of userroluri' (click)=\\\"selectieRol(userrol.autUserrolId)\\\"> \\n            <ion-label>\\n              <h2>{{userrol.rol.autRolDisplayNume}}</h2>\\n              <p>{{userrol.rol.autRolDisplaydescriere}}</p>\\n            </ion-label>\\n\\n          </button>\\n          -->\\n        </ion-list>\\n     </ng-container>\\n\\n\\n</ion-content>\\n\";","export default \"\";","import { NgModule } from '@angular/core';\nimport { Routes, RouterModule } from '@angular/router';\nimport { UserRoluriPage } from './userroluri.page';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: UserRoluriPage,\n  },\n];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule],\n})\nexport class UserRoluriPageRoutingModule {}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\n\nimport { IonicModule } from '@ionic/angular';\nimport { SharedModule } from '../../../shared/shared.module';\nimport { UserRoluriPage } from './userroluri.page';\nimport { UserRoluriPageRoutingModule } from './userroluri-routing.module';\n\n@NgModule({\n  imports: [CommonModule, FormsModule, IonicModule, UserRoluriPageRoutingModule, SharedModule],\n  declarations: [UserRoluriPage],\n})\nexport class UserRoluriPageModule {}\n"]}