{"version":3,"sources":["webpack:///src/app/pages/loc/gestpos/getlatlong/getlatlong.page.ts","webpack:///src/app/pages/loc/gestpos/getlatlong/getlatlong.page.html","webpack:///src/app/pages/loc/gestpos/getlatlong/getlatlong.page.scss","webpack:///src/app/pages/loc/gestpos/getlatlong/getlatlong-routing.module.ts","webpack:///src/app/pages/loc/gestpos/getlatlong/getlatlong.module.ts"],"names":["GetLatLongPage","store","navController","platform","storage","isTracking","frmGetLatLongerea","mesaj","crtactiune","self","this","getLocalStorageData","then","data","get","token","Promise","resolve","value","console","log","actiuneid","valid","memMembruTipRequestSchimbare","MemMembruTipRequest_Schimbare","crtmemtipcod","newmemtipcod","crtmemrolcod","newmemrolcod","dispatch","mapProp","center","google","maps","LatLng","zoom","mapTypeId","MapTypeId","ROADMAP","map","Map","gmapElement","nativeElement","navigator","geolocation","getCurrentPosition","position","showPosition","alert","currentLat","coords","latitude","currentLong","longitude","location","panTo","marker","setPosition","Marker","title","watchPosition","showTrackingPosition","static","selector","template","routes","path","component","GetLatLongPageRoutingModule","imports","exports","GetLatLongPageModule","declarations"],"mappings":"kRAkBaA,EAAc,MAqBzB,YAAoBC,EAAsBC,EAAsCC,EAA4BC,GAAxF,KAAAH,QAAsB,KAAAC,gBAAsC,KAAAC,WAA4B,KAAAC,UAf5G,KAAAC,YAAa,EAOb,KAAAC,kBAA+B,IAAI,KACjC,CACGC,MAAO,IAAI,KAAY,GAAG,MAE/B,KAAAC,WAAmB,KAOjB,IAAIC,EAAOC,KACXA,KAAKC,sBACIC,KAAWC,IAAO,uCAEjB,IADAA,QAAaJ,EAAKL,QAAQU,IAAI,SACf,MAARD,GACLA,QAAaH,KAAKN,QAAQU,IAAI,SAEhCL,EAAKM,MAAgB,KAKjC,sBACE,IAAIN,EAAMC,KACV,OAAO,IAAIM,QAAQC,IACjBR,EAAKL,QAAQU,IAAI,cACdF,KAAMM,IAEDT,EAAKD,WAAaU,EAClBC,QAAQC,IAAIF,GACZD,EAAQC,OAMpB,QAOA,kBAAkBG,GACdF,QAAQC,IAAI,yBAA2BC,GAG3C,mBACE,GAAIX,KAAKJ,kBAAkBgB,MAC3B,CACEH,QAAQC,IAAIV,KAAKJ,kBAAkBY,OACnC,IAAIK,EAA+D,IAAIC,EAAA,EAEvED,EAA6BE,aAAe,YAC7CF,EAA6BG,aAAe,YAE5CH,EAA6BI,aAAe,YAC5CJ,EAA6BK,aAAe,YAE3ClB,KAAKT,MAAM4B,SAAS,IAAI,0BAAiCN,EAA8Bb,KAAKK,SAahG,YAGA,kBAEE,IAAIe,EAAU,CACZC,OAAQ,IAAIC,OAAOC,KAAKC,OAAO,QAAS,SACxCC,KAAM,GACNC,UAAWJ,OAAOC,KAAKI,UAAUC,SAEnC5B,KAAK6B,IAAM,IAAIP,OAAOC,KAAKO,IAAI9B,KAAK+B,YAAYC,cAAeZ,GAEjE,SACMa,UAAUC,YACZD,UAAUC,YAAYC,mBAAoBC,IACxCpC,KAAKqC,aAAaD,KAGpBE,MAAM,iDAIV,aAAaF,GACXpC,KAAKuC,WAAaH,EAASI,OAAOC,SAClCzC,KAAK0C,YAAcN,EAASI,OAAOG,UAEnC,IAAIC,EAAW,IAAItB,OAAOC,KAAKC,OAAOY,EAASI,OAAOC,SAAUL,EAASI,OAAOG,WAChF3C,KAAK6B,IAAIgB,MAAMD,GAEV5C,KAAK8C,OAQR9C,KAAK8C,OAAOC,YAAYH,GAPxB5C,KAAK8C,OAAS,IAAIxB,OAAOC,KAAKyB,OAAO,CACnCZ,SAAUQ,EACVf,IAAK7B,KAAK6B,IACVoB,MAAO,aAQb,UACMhB,UAAUC,aACZlC,KAAKL,YAAa,EAClBsC,UAAUC,YAAYgB,cAAed,IACnCpC,KAAKmD,qBAAqBf,MAG5BE,MAAM,iDAIV,qBAAqBF,GACnB3B,QAAQC,IAAI,sBAAsB0B,EAASI,OAAOC,cAAcL,EAASI,OAAOG,aAChF3C,KAAKuC,WAAaH,EAASI,OAAOC,SAClCzC,KAAK0C,YAAcN,EAASI,OAAOG,UAEnC,IAAIC,EAAW,IAAItB,OAAOC,KAAKC,OAAOY,EAASI,OAAOC,SAAUL,EAASI,OAAOG,WAChF3C,KAAK6B,IAAIgB,MAAMD,GAEV5C,KAAK8C,OAQR9C,KAAK8C,OAAOC,YAAYH,GAPxB5C,KAAK8C,OAAS,IAAIxB,OAAOC,KAAKyB,OAAO,CACnCZ,SAAUQ,EACVf,IAAK7B,KAAK6B,IACVoB,MAAO,e,4BApKN,M,MADW,M,MAAe,M,MAG1B,M,qCAcN,MAAS,MAAC,OAAQ,CAAEG,QAAQ,OAFlB9D,GAAc,UAL1B,SAAU,CACT+D,SAAU,iBACVC,SCfF,k4F,QCAA,OFkBahE,G,eGdb,MAAMiE,EAAiB,CACrB,CACEC,KAAM,GACNC,UAAWnE,I,IAQFoE,EAA2B,QAA3BA,GAA2B,UAJvC,SAAS,CACRC,QAAS,CAAC,cAAsBJ,IAChCK,QAAS,CAAC,SAECF,G,ICFAG,EAAoB,QAApBA,GAAoB,UAJhC,SAAS,CACRF,QAAS,CAAC,KAAc,KAAa,KAAaD,EAA6B,KAC/EI,aAAc,CAACxE,MAEJuE","file":"x","sourcesContent":["import { Component, ElementRef, OnInit, ViewChild } from '@angular/core';\nimport { FormControl, FormGroup, Validators } from '@angular/forms';\n\nimport { IonSelect, NavController, Platform } from '@ionic/angular';\nimport { Store } from '@ngxs/store';\nimport { Observable, of } from 'rxjs';\nimport { Storage } from '@ionic/storage';\nimport { MemMembruTipRequest_Schimbare } from '../../../../payloads/mem/MemMembruTipRequest_Schimbare';\nimport { AuthAction } from '../../../../core/auth-guard/auth-guard.actions';\n\n///import { } from 'google.maps';\n//import {} from 'googlemaps';\n\n@Component({\n  selector: 'app-getlatlong',\n  templateUrl: './getlatlong.page.html',\n  styleUrls: ['./getlatlong.page.scss'],\n})\nexport class GetLatLongPage implements OnInit {\n\n  @ViewChild('gmap', { static: false }) public gmapElement: ElementRef;\n // @ViewChild('gmap') gmapElement: HTMLDivElement;\n  map: google.maps.Map;\n\n  isTracking = false;\n\n  currentLat: any;\n  currentLong: any;\n\n  marker: google.maps.Marker;\n\n  frmGetLatLongerea: FormGroup = new FormGroup(\n    {\n       mesaj: new FormControl('',[]),// [Validators.required, Validators.minLength(8), Validators.maxLength(16)]),\n    });\n  crtactiune : any = null;\n  loginResponse : any;\n  token : string;\n\n  constructor(private store: Store, private navController: NavController, private platform: Platform, private storage: Storage)  \n  {\n    //this.confirmsimact = null;\n    var self = this;\n    this.getLocalStorageData()\n            .then(async data =>{\n              data = await self.storage.get(\"token\");\n              while (data == null) \n                data = await this.storage.get(\"token\");\n              //---\n              self.token = <string>(data);\n        \n            })\n  }\n\n  getLocalStorageData(){\n    var self =this;\n    return new Promise(resolve => {\n      self.storage.get(\"crtactiune\")\n        .then( value => \n            { \n              self.crtactiune = value;\n              console.log(value);\n              resolve(value);\n            });\n            \n         });\n    }\n\n  done() {\n    /**\n    if (this.frmGetLatLong.valid) {\n      console.log(this.frmGetLatLong.value);\n    }*/\n  }\n\n  selectieFaActiune(actiuneid : number) {\n      console.log(\"selectie fa actiune : \" + actiuneid);\n  }\n\n  onGetLatLongerea() {\n    if (this.frmGetLatLongerea.valid) \n    {\n      console.log(this.frmGetLatLongerea.value);\n      var memMembruTipRequestSchimbare : MemMembruTipRequest_Schimbare = new MemMembruTipRequest_Schimbare();\n      //---\n      memMembruTipRequestSchimbare.crtmemtipcod = \"MEMINCNFL\";\n\t    memMembruTipRequestSchimbare.newmemtipcod = \"MEMACTNFL\";\n      //---\n\t    memMembruTipRequestSchimbare.crtmemrolcod = \"MEMINCNFL\";\n\t    memMembruTipRequestSchimbare.newmemrolcod = \"MEMACTNFL\";\n      //---\n      this.store.dispatch(new AuthAction.MemMembruTipSchimbare(memMembruTipRequestSchimbare, this.token));\n\n    }\n  }\n\n/**\n  ngOnInit(){\n    //this.frmGetLatLong = new FormControl('', [Validators.required, Validators.email]);\n    console.log(this.crtactiune);\n  }\n*/\n\n\n  ngOnInit() {\n  }\n\n  ngAfterViewInit() {\n    //console.log(this.myDiv.nativeElement.innerHTML);\n    var mapProp = {\n      center: new google.maps.LatLng(18.5793, 73.8143),\n      zoom: 15,\n      mapTypeId: google.maps.MapTypeId.ROADMAP\n    };\n    this.map = new google.maps.Map(this.gmapElement.nativeElement, mapProp);\n  }\n  findMe() {\n    if (navigator.geolocation) {\n      navigator.geolocation.getCurrentPosition((position) => {\n        this.showPosition(position);\n      });\n    } else {\n      alert(\"Geolocation is not supported by this browser.\");\n    }\n  }\n\n  showPosition(position) {\n    this.currentLat = position.coords.latitude;\n    this.currentLong = position.coords.longitude;\n\n    let location = new google.maps.LatLng(position.coords.latitude, position.coords.longitude);\n    this.map.panTo(location);\n\n    if (!this.marker) {\n      this.marker = new google.maps.Marker({\n        position: location,\n        map: this.map,\n        title: 'Got you!'\n      });\n    }\n    else {\n      this.marker.setPosition(location);\n    }\n  }\n\n  trackMe() {\n    if (navigator.geolocation) {\n      this.isTracking = true;\n      navigator.geolocation.watchPosition((position) => {\n        this.showTrackingPosition(position);\n      });\n    } else {\n      alert(\"Geolocation is not supported by this browser.\");\n    }\n  }\n\n  showTrackingPosition(position) {\n    console.log(`tracking postion:  ${position.coords.latitude} - ${position.coords.longitude}`);\n    this.currentLat = position.coords.latitude;\n    this.currentLong = position.coords.longitude;\n\n    let location = new google.maps.LatLng(position.coords.latitude, position.coords.longitude);\n    this.map.panTo(location);\n\n    if (!this.marker) {\n      this.marker = new google.maps.Marker({\n        position: location,\n        map: this.map,\n        title: 'Got you!'\n      });\n    }\n    else {\n      this.marker.setPosition(location);\n    }\n  }\n\n}\n","export default \"\\n\\n<ion-header>\\n  <ion-toolbar color=\\\"dark\\\">\\n        <ion-buttons slot=\\\"start\\\">\\n          <ion-back-button [text]=\\\"'backButtonTitle' | translate\\\" defaultHref=\\\"/aut/grupactactiuni\\\"></ion-back-button>\\n        </ion-buttons>\\n    <ion-buttons slot=\\\"secondary\\\">\\n      <ion-button>\\n        <ion-icon slot=\\\"icon-only\\\" name=\\\"person-circle\\\"></ion-icon>\\n      </ion-button>\\n      <!-- \\n      <ion-button>\\n        <ion-icon slot=\\\"icon-only\\\" name=\\\"search\\\"></ion-icon>\\n      </ion-button>\\n      -->\\n    </ion-buttons>\\n    <ion-buttons slot=\\\"primary\\\">\\n      <ion-button color=\\\"danger\\\">\\n        <ion-icon slot=\\\"icon-only\\\" ios=\\\"ellipsis-horizontal\\\" md=\\\"ellipsis-vertical\\\"></ion-icon>\\n      </ion-button>\\n    </ion-buttons>\\n    <ion-title>Bine Ai Venit ! &nbsp; &nbsp; &nbsp; </ion-title>\\n  </ion-toolbar>  \\n</ion-header>\\n\\n<ion-content [fullscreen]=\\\"true\\\">\\n   \\n  <!-- List of Text Items -->\\n      <ng-container *ngIf=\\\"crtactiune\\\">\\n        <h3>{{crtactiune.autActiuneDisplaynume}}</h3>\\n     </ng-container>\\n  \\n     <!--\\n     <ion-grid>\\n      <ion-row>\\n        <ion-col class=\\\"ion-text-center\\\" size-md=\\\"6\\\" size-lg=\\\"5\\\" size-xs=\\\"12\\\">\\n          <form [formGroup]=\\\"frmGetLatLongerea\\\" (ngSubmit)=\\\"onGetLatLongerea()\\\">\\n            <ion-card color=\\\"light\\\" class=\\\"auth-card ion-margin\\\">\\n              <ion-item color=\\\"light\\\" class=\\\"ion-no-inner-padding-end\\\">\\n                <ion-input type=\\\"text\\\" [readonly]=\\\"true\\\" placeholder=\\\"Trimite Confirmarea pentru a deveni Membru Activ Neafiliat\\\" formControlName=\\\"mesaj\\\"></ion-input>\\n              </ion-item>\\n            </ion-card>\\n  \\n            <ion-button\\n              expand=\\\"block\\\"\\n              class=\\\"ion-margin-start ion-margin-end ion-margin-bottom\\\"\\n              type=\\\"submit\\\"\\n              [disabled]=\\\"!frmGetLatLongerea.valid\\\"\\n            >\\n              Confirmare Cerere Membru Activ\\n            </ion-button>\\n            <span class=\\\"ion-margin\\\"></span>\\n          </form>\\n  \\n        </ion-col>\\n      </ion-row>\\n    </ion-grid>\\n  -->\\n  \\n  <div class=\\\"container\\\">\\n    <div style=\\\"text-align:center\\\">\\n      <h1>\\n        Google Map Geolocation\\n      </h1>\\n    </div>\\n  \\n    <div class=\\\"alert alert-warning\\\">\\n      Note: Once Track me is enabled, refresh page to enable Find me feature!\\n    </div>\\n    <div>\\n      <div>\\n        <button [disabled]=\\\"isTracking\\\" (click)=\\\"findMe()\\\">Find me</button>\\n        <button  (click)=\\\"trackMe()\\\">Track me</button>\\n      </div>\\n      <div class=\\\"text-white\\\">\\n        <span>Latitude: {{currentLat}}</span>\\n        <span>Longitude: {{currentLong}}</span>\\n      </div>\\n      <br>\\n      <div class=\\\"row\\\">\\n        <div class=\\\"col-md-12\\\">\\n          <div class=\\\"text-center\\\">\\n            <h3>\\n              <div #gmap style=\\\"width:100%;height:600px\\\"></div>\\n            </h3>\\n          </div>\\n        </div>\\n      </div>\\n    </div>\\n    <br>\\n  </div>\\n  \\n\\n\\n\\n</ion-content>\\n\";","export default \"\";","import { NgModule } from '@angular/core';\nimport { Routes, RouterModule } from '@angular/router';\nimport { GetLatLongPage } from './getlatlong.page';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: GetLatLongPage,\n  },\n];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule],\n})\nexport class GetLatLongPageRoutingModule {}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\n\nimport { IonicModule } from '@ionic/angular';\nimport { SharedModule } from '../../.././../shared/shared.module';\nimport { GetLatLongPage } from './getlatlong.page';\nimport { GetLatLongPageRoutingModule } from './getlatlong-routing.module';\n\n@NgModule({\n  imports: [CommonModule, FormsModule, IonicModule, GetLatLongPageRoutingModule, SharedModule],\n  declarations: [GetLatLongPage],\n})\nexport class GetLatLongPageModule {}\n"]}